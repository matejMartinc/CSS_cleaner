CSS_cleaner
===========



What is CSS_cleaner?
--------------------

CSS_cleaner is a program that checks html document on specific url (could be on local server or not) for css files, 
which are then combined, validated and cleaned. CSS_cleaner detects selectors,
that are not legit and fixes them, removes unused selectors, simplifies overspecified
selectors, removes or combines duplicated selectors and finds classes in HTML file that 
are not declared in CSS.

CSS_cleaner does not fix syntax errors like missing brackets (it only warns you about them)
and it does not check for asynchronically added HTML or imported CSS files.



What are the requirements:
--------------------------

Node.js and Jquery. Required node modules are specified in package.json.

How to use it?
--------------

Import module with:
```
var css_cleaner = require('css_cleaner.js');
```



examples:
---------

Call the main function that does all the work:
```
css_cleaner.main(urlList);
```
where urlList is an array of url's that you wish to clean.

Main function takes additional arguments:
```
css_cleaner.main(url, distance, deletion, simplification, compression);
```
Distance: int type. Only fix selectors that differ from correct selector in specified number of letters - the difference is calculated with Damerau-Levensthein difference. 0 means selectors will not be replaced and 
default(no argument) is 2.

Deletion: boolean type. Choose to delete unused selectors. Default is true.

Simplification: boolean type. Choose to  simplify selectors. If you will
be having performance issues, try turning simplification off.Deleting and simplifying are by far the slowest operations, since they relly on jquery. Default is true.

Compression: boolean type. Choose to compress the css file for production use (it basicaly removes all the white space and page breaks). Default is true.

What is the result?
-------------------

The program outputs new optimized css file and a logfile, specifying what did program do. 

Be warned: there are not all selectors specified in the program library (just the standardized ones), 
so some very rare selectors might get fixed even if they are correct, 
if you don't adjust distance argument to 0.

Please feel free to use this software however you like, share bug reports, fix code or update program library
(it is on the bottom of node_cleaner.js file in form of a javascript object and some arrays).  

Examples
--------

You can see how the program works by checking the example in the example folder. index.php is a file with two
CSS files (css1 and css2), optimizedCss and logFile are generated by the program.  




  



